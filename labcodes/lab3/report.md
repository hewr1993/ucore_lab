#Lab3 Report
-----
## Ex1
1. 完成do_pgfault（mm/vmm.c）函数，给未被映射的地址映射上物理页

	> * 按照提示完成代码即可
	> * 其中使用到了lab2中的get_pte
	> * 实现细节见代码

1. 请描述页目录项（Pag Director Entry）和页表（Page Table Entry）中组成部分对ucore实现页替换算法的潜在用处

	> * 传统的页目录项与页表结构只记录各偏移量，组成整个地址值
	> * 而这里除了有地址偏移等，还有VALID位表示页表项在内存还是在外存中，时间位用于时钟置换算法，修改位服务于写回等

1. 如果ucore的缺页服务例程在执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？

	> * 硬件需要设置中断标志、保存部分现场，然后转交中断例程，返回后消除中断标志并恢复现场。

## Ex2
1. 完成vmm.c中的do_pgfault函数

	> * 同样按照提示完成代码
	> * 实现FIFO时需要注意swap_in、page_insert和swap_map_swappable各参数意义，并缕清应该传入哪个变量
	> * 实现细节见代码

1. 在实现FIFO算法的swap_fifo.c中完成map_swappable函数

	> * 利用lab2中使用的宏，根据提示完成代码
	> * 代码中已经处理好head和entry两个重要变量，直接使用宏把entry插入到head即可
	> * 实现细节见代码

1. 在实现FIFO算法的swap_fifo.c中完成swap_out_vistim函数

	> * 根据提示完成代码
	> * 注意代码顺序，什么时候取出头指针，什么时候释放
	> * 使用了labcode_answer中的le2page宏
	> * 实现细节见代码

1. 如果要在ucore上实现"extended clock页替换算法"，现有的swap_manager框架是否足以支持在ucore中实现此算法？如果是，请给你的设计方案。如果不是，请给出你的新的扩展和基此扩展的设计方案
	> * 不可以
	> * 首先要使用环状链表维护页表项，同时要加入修改位和时间位，可以利用ticks更新这些位
	> * 同时还要维护一个全局指针，用于记录环状链表当前起始位置

1. 需要被换出的页的特征是什么？
	
	> * 全局指针的前驱，修改位与时间位都为0

1. 在ucore中如何判断具有这样特征的页？

	> * 判断相应的附加位的值即可

1. 何时进行换入和换出操作？

	> * 出现缺页异常，或者内存紧张等需要置换页的情况时

## 与标准答案的差异
* 以往lab的结果会影响本次结果，我lab2的做法有点问题，导致这次实验浪费大量时间
* Ex2基本相同

## 本实验中重要的知识点
* FIFO基本实现
* 如何判断、处理页缺失

## OS原理中很重要但在实验中没有对应上的知识点
* 时钟置换算法具体实现
* 不同置换算法与页缺失异常抛出之间怎么架构可以方便以后扩展

